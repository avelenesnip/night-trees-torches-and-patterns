float theta;   

void setup() {
  size(1054, 700);
}

void draw() {
  background(#11003B);
  frameRate(30);
  stroke(255);
  strokeWeight(1);


  pushMatrix();///////////////////////////////

  //fill(#E1E8B2);
  //ellipse (525,125,300,300);


  treetrunk(150, 600, 700);
  translate(0, -120);
  branch(120);

  treetrunk(0, 70, 700);
  translate(0, -120);
  branch(160);




  treetrunk(250, 170, 700);
  translate(0, -120);
  branch(120);

  treetrunk(0, 70, 700);
  translate(0, -120);
  branch(160);




  treetrunk(250, 170, 700);
  translate(0, -120);
  branch(120);

  treetrunk(0, 70, 700);
  translate(0, -120);
  branch(160);


  treetrunk(250, 170, 700);
  translate(0, -120);
  branch(120);

  treetrunk(0, 70, 700);
  translate(0, -120);
  branch(160);

  popMatrix();///////////////////////////////

  strokeWeight(6);
  stroke(#5D6293);
  line(10, 500, 10, 800);
  noStroke();
  glow(10);
  fill (#D6A400);
  ellipse (10, 490, 40, 40);

  strokeWeight(6);
  stroke(#5D6293);
  line(270, 500, 270, 800);
  noStroke();
  glow(270);
  fill (#D6A400);
  ellipse (270, 490, 40, 40);

  strokeWeight(6);
  stroke(#5D6293);
  line(530, 500, 530, 800);
  noStroke();
  glow(530);
  fill (#D6A400);
  ellipse (530, 490, 40, 40);

  strokeWeight(6);
  stroke(#5D6293);
  line(770, 500, 770, 800);
  noStroke();
  glow(770);
  fill (#D6A400);
  ellipse (770, 490, 40, 40);

  strokeWeight(6);
  stroke(#5D6293);
  line(1050, 500, 1050, 800);
  noStroke();
  glow(1050);
  fill (#D6A400);
  ellipse (1050, 490, 40, 40);



  stroke(255);
  strokeWeight(1);

  pushMatrix();///////////////////////////////

  treetrunk(10, height, 700);
  translate(0, -120);
  branch(10);

  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10); 

  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);
  treetrunk(10, 120, 700);
  translate(0, -120);
  branch(10);

  popMatrix();///////////////////////////////

  pushMatrix();///////////////////////////////

  treetrunk(10, height, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 120, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 110, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 120, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  treetrunk(20, 130, 500);
  translate(0, -120);
  branch(20);

  popMatrix();///////////////////////////////



  pushMatrix();////////////////////////////
  
  fill(255);
  rect (0, 650, 1100, 50);
  
  stroke(0);
  strokeWeight(0);
  
  treetrunk(10, height+70, 500);
  translate(0, -120);
  branch(70);

treetrunk(260, 120, 500);
  translate(0, -120);
  branch(70);
  
  treetrunk(260, 120, 500);
  translate(0, -120);
  branch(70);
  
  treetrunk(240, 120, 500);
  translate(0, -120);
  branch(70);
  
  treetrunk(280, 120, 500);
  translate(0, -120);
  branch(70);
  popMatrix();///////////////////////
  
  pushMatrix();/////////////////////
  
  stroke(0);
  
  treetrunk(150, height+90, 100);
  translate(0, -120);
  branch(40);
  
   treetrunk(250, 120, 100);
  translate(0, -120);
  branch(40);
  
  treetrunk(250, 120, 100);
  translate(0, -120);
  branch(40);
  
  treetrunk(250, 120, 100);
  translate(0, -120);
  branch(40);
  
  popMatrix();//////////////////////


}



void glow(int y) {

  pushMatrix();

  int x = 1;
  fill (#D6A400, 10);
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;
  ellipse (y, 490, 40+x, 40+x);
  x=x+1;

  popMatrix();
}


void treetrunk(int x, int y, int a) {

  theta = radians(a);
  translate(x, y);
  line(0, 100, 0, -120);
}

void branch(float h) {
  // Each branch will be 2/3rds the size of the previous one
  h *= 0.66;

  // All recursive functions must have an exit condition!!!!
  // Here, ours is when the length of the branch is 2 pixels or less
  if (h > 2) {
    pushMatrix();    // Save the current state of transformation (i.e. where are we now)
    rotate(theta);   // Rotate by theta
    line(0, 0, 0, -h);  // Draw the branch
    translate(0, -h); // Move to the end of the branch
    branch(h);       // Ok, now call myself to draw two new branches!!
    popMatrix();     // Whenever we get back here, we "pop" in order to restore the previous matrix state

    // Repeat the same thing, only branch off to the "left" this time!
    pushMatrix();
    rotate(-theta);
    line(0, 0, 0, -h);
    translate(0, -h);
    branch(h);
    popMatrix();
  }
}
